(this["webpackJsonpscaler-app"]=this["webpackJsonpscaler-app"]||[]).push([[0],{12:function(t,e,n){},13:function(t,e,n){},14:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(6),s=n.n(r),o=(n(12),n(1)),u=n(2),l=n(4),c=n(3),h=(n(13),function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("input",{type:"text",className:"name-input",value:this.props.name,onChange:function(e){return t.props.onChange(e.target.value,"N")}})),i.a.createElement("td",null,i.a.createElement("input",{type:"text",className:"mesure-input",value:this.props.unit,onChange:function(e){return t.props.onChange(e.target.value,"U")}})),i.a.createElement("td",null,i.a.createElement("input",{type:"number",className:"quant-input",value:this.props.quantity,onChange:function(e){return t.props.onChange(e.target.value,"Q")}})),i.a.createElement("td",null,i.a.createElement("input",{type:"number",className:"result-input",value:this.props.result,onChange:function(e){return t.props.onChange(e.target.value,"R")}})))}}]),n}(i.a.Component)),d=function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"renderEmptyRow",value:function(t){var e=this;return i.a.createElement(h,{key:t,name:"",unit:"",quantity:"",result:"",onChange:function(n,a){return e.props.onChange(t,n,a)}})}},{key:"render",value:function(){var t=this,e=[];return this.props.ingredients.forEach((function(n,a){e.push(i.a.createElement(h,{key:a,name:n.name,unit:n.unit,quantity:n.quantity,result:n.result,onChange:function(e,n){return t.props.onChange(a,e,n)}}))})),i.a.createElement("div",null,i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Ingredient"),i.a.createElement("th",null,"Unit"),i.a.createElement("th",null,"Quantity"),i.a.createElement("th",null,"Result"))),i.a.createElement("tbody",null,e)))}}]),n}(i.a.Component),p=function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.props.isMulti?"X":"/";return i.a.createElement("div",{className:"scale-factor-board"},i.a.createElement("h2",null,"Ingredients"),i.a.createElement("button",{onClick:function(){t.props.onClick()}},e),i.a.createElement("form",null,i.a.createElement("input",{type:"number",value:this.props.factor,onChange:function(e){return t.props.onChange(e.target.value)}})))}}]),n}(i.a.Component),f=function(t){Object(l.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={ingredients:[],factor:2,isMulti:!0},a}return Object(u.a)(n,[{key:"handleClick",value:function(){var t=this;this.state.ingredients.slice().forEach((function(e,n){""!==e.quantity&&(0===e.quantity?e.result=0:e.result=t.state.isMulti?e.quantity/t.state.factor:e.quantity*t.state.factor)})),console.log("test"),this.setState({ingredients:this.state.ingredients,factor:this.state.factor,isMulti:!this.state.isMulti})}},{key:"handleInput",value:function(t,e,n){var a=this;if("F"===n||"Q"===n||"R"===n){var i=e.toString();e=parseFloat(i),Number.isNaN(e)&&(e=0)}if("F"===n){var r=this.state.ingredients.slice(),s=e;r.forEach((function(t,e){""!==t.quantity&&(0===t.quantity?t.result=0:t.result=a.state.isMulti?t.quantity*s:t.quantity/s)})),this.setState({ingredients:r,factor:s,isMulti:this.state.isMulti})}else{var o="",u="",l=0,c=0;if("N"===n&&(o+=e),"U"===n&&(u+=e),"Q"===n&&(l+=parseFloat(e),c=c=this.state.isMulti?e*this.state.factor:e/this.state.factor),"R"===n&&(c+=parseFloat(e),l=this.state.isMulti?e/this.state.factor:e*this.state.factor),t>=this.state.ingredients.length){var h=this.state.ingredients.slice(),d={name:o,unit:u,quantity:l,result:c};h.push(d),this.setState({ingredients:h,factor:this.state.factor,isMulti:this.state.isMulti})}else{var p=!1;if("N"===n&&e!==this.state.ingredients[t].name&&(p=!0),"U"===n&&e!==this.state.ingredients[t].unit&&(p=!0),"Q"===n&&e!==this.state.ingredients[t].quantity&&(p=!0),"R"===n&&e!==this.state.ingredients[t].result&&(p=!0),p){var f=this.state.ingredients.slice(),g=this.state.factor;"N"===n&&(f[t].name=e),"U"===n&&(f[t].unit=e),"Q"===n&&(f[t].quantity=parseFloat(e),f[t].result=this.state.isMulti?e*this.state.factor:e/this.state.factor),"R"===n&&(g=e/f[t].quantity,f.forEach((function(t,e){""!==t.quantity&&(0===t.quantity?t.result=0:t.result=a.state.isMulti?t.quantity*g:t.quantity/g)}))),this.setState({ingredients:f,factor:g,isMulti:this.state.isMulti})}}}}},{key:"addEmptyIngredient",value:function(){this.state.ingredients.push({name:"",unit:"",quantity:"",result:""})}},{key:"render",value:function(){var t=this;this.state.ingredients.length>0&&""===this.state.ingredients[this.state.ingredients.length-1].name&&""===this.state.ingredients[this.state.ingredients.length-1].unit&&""===this.state.ingredients[this.state.ingredients.length-1].quantity&&""===this.state.ingredients[this.state.ingredients.length-1].result||this.addEmptyIngredient();for(var e=0;e<this.state.ingredients.length-1;e++)""===this.state.ingredients[e].name&&""===this.state.ingredients[e].unit&&""===this.state.ingredients[e].quantity&&""===this.state.ingredients[e].result&&this.state.ingredients.splice(e,1);return i.a.createElement("div",{className:"main-board"},i.a.createElement("div",{className:"scale-factor-board-div"},i.a.createElement(p,{isMulti:this.state.isMulti,factor:this.state.factor,onChange:function(e){return t.handleInput(0,e,"F")},onClick:function(){return t.handleClick()}})),i.a.createElement("div",{className:"ingredients-board"},i.a.createElement(d,{ingredients:this.state.ingredients,onChange:function(e,n,a){return t.handleInput(e,n,a)}})))}}]),n}(i.a.Component);var g=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(f,null))},m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}s.a.render(i.a.createElement(g,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/ScalerApp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/ScalerApp","/service-worker.js");m?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):v(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):v(e,t)}))}}()},7:function(t,e,n){t.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.8f21f5ec.chunk.js.map